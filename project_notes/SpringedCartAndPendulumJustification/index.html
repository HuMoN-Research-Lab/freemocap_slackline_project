
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../Prep%20Slackline%20Research%20Questions/">
      
      
        <link rel="next" href="../running_notes/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.2, mkdocs-material-9.2.3">
    
    
      
        <title>Springed Cart and Pendulum Justification - Slackline Project Docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.0e669242.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/custom.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#springed-cart-and-pendulum-justification" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Slackline Project Docs" class="md-header__button md-logo" aria-label="Slackline Project Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Slackline Project Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Springed Cart and Pendulum Justification
            
          </span>
        </div>
      </div>
    </div>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/HuMoN-Research-Lab/freemocap_slackline_project" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Slackline Project Docs" class="md-nav__button md-logo" aria-label="Slackline Project Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Slackline Project Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/HuMoN-Research-Lab/freemocap_slackline_project" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Slackline Research Project
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../Research%20Summary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Slackline Paper Outline Draft
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../exploratory_analysis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exploratory Analysis
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Lit review
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Lit review
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../lit_review/Slackline%20Literature%20Survey/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Slackline Literature Survey
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Dynamic balance and locomotion papers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Dynamic balance and locomotion papers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../lit_review/dynamic_balance_and_locomotion_papers/An%20optimality%20principle%20for%20locomotor%20central%20pattern%20generators%20-%20Ryu%20Kuo%202021/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ryu Kuo 2021
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../lit_review/dynamic_balance_and_locomotion_papers/Control%20of%20Animal%20Locomotion%20by%20Ventral%20Spinocerebellar%20Tract%20Neurons%20-%20Chalif%20Et%20Al%202022/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chalif Et Al 2022
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../lit_review/dynamic_balance_and_locomotion_papers/Extrapolated%20COM%20-%20Hof%202007/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hof 2007
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../lit_review/dynamic_balance_and_locomotion_papers/Human%20Central%20Pattern%20Generator%20-%20Does%20it%20Exist%3F%20Minassian%202017/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Minassian Et Al 2017
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../lit_review/dynamic_balance_and_locomotion_papers/Humans%20plan%20for%20the%20near%20future%20to%20walk%20economically%20on%20uneven%20terrain%20-%20Darici%20Kuo%202022/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Darici Kuo 2022
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../lit_review/dynamic_balance_and_locomotion_papers/Measures%20to%20Determine%20Dynamic%20Balance%20-%20Niiler%202015/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Niiler 2016
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../lit_review/dynamic_balance_and_locomotion_papers/N-Step%20Capturability%20-%20Koolen%20Et%20Al.%202012/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Koolen Et Al. 2012
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../lit_review/dynamic_balance_and_locomotion_papers/Rethinking%20Margin%20of%20Stability%20-%20%23%20Kazanski%20Et%20Al%20%202022/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kazanski Et Al  2022
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../lit_review/dynamic_balance_and_locomotion_papers/Six%20Determinants%20and%20Inverted%20Pendulum%20-%20Kuo%202007/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kuo 2007
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../lit_review/dynamic_balance_and_locomotion_papers/The%20Condition%20for%20Dynamic%20Stability%20-%20Hof%20Et%20Al%202005/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hof Et Al 2005
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../lit_review/dynamic_balance_and_locomotion_papers/The%20Dynamics%20of%20Perception%20and%20Action/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Warren 2006
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Slackline papers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            Slackline papers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../lit_review/slackline_papers/A%20Case%20Study%20on%20Balance%20Recovery%20in%20Slacklining%20-%20Huber%20Kleindl%202010/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Huber Kleindl 2010
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../lit_review/slackline_papers/An%20LMI%20Approach%20to%20Controller%20Design%20for%20Balancing%20over%20Slackline%20-%20Iqbal%202019/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Iqbal 2019
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../lit_review/slackline_papers/Balancing%20on%20Slacklines%20Modeling%20and%20Empirical%20Evaluation%20-%20Vallery%20Neumann%202013/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Vallery Neumann 2013
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../lit_review/slackline_papers/Balancing%20on%20tightropes%20and%20slacklines%20-%20Paoletti%20Mahadevan%202012/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Paoletti Mahadevan 2012
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../lit_review/slackline_papers/Improved%20postural%20control%20after%20slackline%20training%20is%20accompanied%20by%20reduced%20H-reflexes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Keller Et. Al. 2011
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../lit_review/slackline_papers/Learning%20to%20balance%20on%20a%20slackline%20-%20Mildren%20Et%20Al%202018/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mildren Et. Al. 2018
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../lit_review/slackline_papers/Performance%20indicators%20for%20stability%20of%20slackline%20balancing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Stein Mombaur 2019
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Project notes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Project notes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Prep%20Slackline%20Research%20Questions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Prep Slackline Project Research Question
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Springed Cart and Pendulum Justification
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Springed Cart and Pendulum Justification
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#deriving-the-effect-of-the-spring" class="md-nav__link">
    Deriving the Effect of the Spring
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#turning-it-into-code" class="md-nav__link">
    Turning it into Code
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../running_notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FreeMoCap Slackline Project
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#deriving-the-effect-of-the-spring" class="md-nav__link">
    Deriving the Effect of the Spring
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#turning-it-into-code" class="md-nav__link">
    Turning it into Code
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<div><h1 id="springed-cart-and-pendulum-justification">Springed Cart and Pendulum Justification</h1>
<h2 id="deriving-the-effect-of-the-spring">Deriving the Effect of the Spring</h2>
<p>In order to add a horizontal spring to the PID controlled cart and pendulum simulation in 'CartAndPendulum.py', we use Hooke's Law which describes the restoring force from a linear spring. Hooke's Law states that F = -kx , or that the restoring force is equal to the spring constant k times the distance from equilibrium x. We are interested in how the spring affects the cart's acceleration, so we need to substitute the right hand side of Newton's Law F = ma into Hooke's Law to turn our restoring force into an acceleration term. This gives us ma = -kx, which rearranges to give us a = -kx/m, or in words, acceleration = -(spring constant times distance to equilibrium) / mass. The spring is attached to the cart, so this acceleration only directly affects the acceleration of the cart. The total acceleration of the cart then affects the angular acceleration of the pendulum, as shown by the free body diagram below:</p>
<p><img alt="CartAndPendulumFreeBody" src="https://user-images.githubusercontent.com/24758117/189792820-dbcfd5b7-f9f7-453f-a3f1-1574754c8a75.jpg"></p>
<p>The angular acceleration of the pendulum is found by taking the vertical component of the acceleration (due to gravity) times the sine of the pendulum angle, and the horizontal component of the acceleration (the total acceleration of the cart) times the cosine of the pendulum angle, and then dividing both by the pendulum length. As long as we include the acceleration due to the spring whenever we write the total acceleration of the cart, we will have handled any effect the spring has on the pendulum.</p>
<h2 id="turning-it-into-code">Turning it into Code</h2>
<p>The original code for our cart and pendulum derivatives is as follows:</p>
<p>```# derivative of pendulum angle (angular velocity)
derivative_array[0] = current_angular_velocity</p>
<h1 id="derivative-of-angular-velocity-angular-acceleration">derivative of angular velocity (angular acceleration)</h1>
<p>derivative_array[1] = (self.gravity * np.sin(current_pendulum_angle) - pid_controller_output * np.cos(current_pendulum_angle)) / self.length</p>
<h1 id="derivative-of-cart-position-cart-velocity">derivative of cart position (cart velocity)</h1>
<p>derivative_array[2] = current_cart_velocity</p>
<h1 id="derivative-of-cart-velocity-cart-acceleration">derivative of cart velocity (cart acceleration)</h1>
<p>derivative_array[3] = pid_controller_output</p>
<pre><code>
In this case, the only cart acceleration was due to the output of our PID controller. This means to factor in the spring acceleration, we can replace our pid_controller_output with (pid_controller_output - spring_acceleration), where spring_acceleration = (self.spring_constant * current_cart_position)/self.mass. This gives us the updates derivatives below:

```# derivative of pendulum angle (angular velocity)
derivative_array[0] = current_angular_velocity

# derivative of angular velocity (angular acceleration)
derivative_array[1] = (self.gravity * np.sin(current_pendulum_angle) - (pid_controller_output - spring_acceleration) * np.cos(current_pendulum_angle)) / self.length

# derivative of cart position (cart velocity)
derivative_array[2] = current_cart_velocity

# derivative of cart velocity (cart acceleration)
derivative_array[3] = pid_controller_output - spring_acceleration
</code></pre></div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.dfff1995.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.78eede0e.min.js"></script>
      
    
  </body>
</html>